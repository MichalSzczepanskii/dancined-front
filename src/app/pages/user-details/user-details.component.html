<div class="custom-skeleton p-4" *ngIf="loading">
  <div class="flex mb-3">
    <p-skeleton shape="circle" size="4rem" styleClass="mr-2"></p-skeleton>
    <div>
      <p-skeleton width="10rem" styleClass="mb-2"></p-skeleton>
      <p-skeleton width="5rem" styleClass="mb-2"></p-skeleton>
      <p-skeleton height=".5rem"></p-skeleton>
    </div>
  </div>
  <p-skeleton width="100%" height="150px"></p-skeleton>
</div>

<div *ngIf="!loading">
  <div class="page-header">
    <h1 class="page-title">{{ userName }}</h1>
  </div>
  <div class="flex gap-x-5">
    <p-card header="Dane" class="w-1/3">
      <div class="info-row">
        <div class="info-header">Imię:</div>
        <div>{{ userData.person.first_name }}</div>
      </div>
      <div class="info-row">
        <div class="info-header">Nazwisko:</div>
        <div>{{ userData.person.last_name }}</div>
      </div>
      <div class="info-row">
        <div class="info-header">Pesel:</div>
        <div>{{ userData.person.pesel }}</div>
      </div>
      <div class="info-row">
        <div class="info-header">Data urodzenia:</div>
        <div>{{ userData.person.birth_date }}</div>
      </div>
      <div class="info-row">
        <div class="info-header">Email:</div>
        <div>{{ userData.email }}</div>
      </div>
      <div class="info-row">
        <div class="info-header">Telefon:</div>
        <div>{{ userData.person.phone }}</div>
      </div>
    </p-card>
    <p-card header="Przypisani uczestnicy" *ngIf="participants && participants.length > 0" class="flex-1">
      <p-table [value]="participants">
        <ng-template pTemplate="header">
          <tr>
            <th>Imię i nazwisko</th>
            <th>Data urodzenia</th>
            <th>Pesel</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-participant>
          <tr>
            <td>{{ participant.person.first_name }} {{ participant.person.last_name }}</td>
            <td>{{ participant.person.birth_date }}</td>
            <td>{{ participant.person.pesel }}</td>
          </tr>
        </ng-template>
      </p-table>
    </p-card>
  </div>
</div>
